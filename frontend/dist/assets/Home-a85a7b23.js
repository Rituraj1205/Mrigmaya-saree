import{r as i,C as U,i as A,j as e,L as C,u as $,b as W}from"./index-341cd16a.js";import{s as G}from"./seo-4fb2e452.js";const D="data:image/gif;base64,R0lGODlhAQABAAD/ACw=",T=[{title:"Handcrafted sarees",sub:"Curated villages to runway",icon:"ðŸ§µ"},{title:"Ships in 24 hrs",sub:"Across 18,000+ pincodes",icon:"âœˆï¸"},{title:"Complimentary fall & pico",sub:"Ready to drape",icon:"ðŸŽ€"},{title:"Dedicated stylists",sub:"WhatsApp concierge",icon:"ðŸ’¬"}],E={title:"Designed in Surat, loved across India",description:"We travel across handloom clusters, collaborate with weavers, and finish each saree with couture level detailing. Every edit mirrors the premium boutique experience but is crafted only for saree loyalists.",ctaLabel:"Shop handcrafted edits",ctaLink:"/products",meta:{stats:[{value:"120+",label:"Exclusive drops"},{value:"48 hrs",label:"Average dispatch"},{value:"4.8/5",label:"Shopper rating"}]}},R=t=>`Rs. ${new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(t||0)}`,L=(t,l)=>W(t,l),Q=t=>{var m;const l=(m=t==null?void 0:t.images)==null?void 0:m[0];return l?L(l,D):D},J=({slides:t=[]})=>{const l=(t==null?void 0:t.map(r=>{var v,w,N;const y=(r==null?void 0:r.heroImage)||(r==null?void 0:r.image)||(r==null?void 0:r.mobileImage)||(r==null?void 0:r.desktopImage)||(r==null?void 0:r.cover)||(r==null?void 0:r.banner)||((v=r==null?void 0:r.meta)==null?void 0:v.image)||((w=r==null?void 0:r.meta)==null?void 0:w.cover)||(Array.isArray(r==null?void 0:r.images)?r.images[0]:null),f=typeof y=="string"?y.trim():y,x=(r==null?void 0:r.heroVideo)||(r==null?void 0:r.video)||((N=r==null?void 0:r.meta)==null?void 0:N.video),b=typeof x=="string"?x.trim():x;if(!f&&!b)return null;const n=f?L(f,f):"",j=b?L(b,b):"";return{...r,heroImage:n,heroVideo:j}}).filter(Boolean))||[];if(!l.length)return null;const[m,h]=i.useState(0);i.useEffect(()=>{h(0)},[l.length]);const c=i.useRef([]);i.useEffect(()=>{var b;if(!l.length)return;const y=!!(l[m]||{}).heroVideo,f=()=>h(n=>(n+1)%l.length);let x;if(y){const n=c.current[m];if(n){n.currentTime=0;const j=()=>f();n.addEventListener("ended",j);const v=(b=n.play)==null?void 0:b.call(n);v!=null&&v.catch&&v.catch(()=>{});const w=Number.isFinite(n.duration)&&n.duration>0?n.duration*1e3:0;return w>0&&(x=setTimeout(f,w+200)),()=>{var N;(N=n.pause)==null||N.call(n),n.removeEventListener("ended",j),x&&clearTimeout(x)}}}return x=setTimeout(f,3e3),()=>{x&&clearTimeout(x)}},[l,m]);const s=l[m];s==null||s.heroImage,s==null||s.heroVideo;const o=(s==null?void 0:s.title)||(s==null?void 0:s.description)||(s==null?void 0:s.subtitle),p=s!=null&&s.title?(s==null?void 0:s.description)||(s==null?void 0:s.subtitle):s!=null&&s.description&&(s!=null&&s.subtitle)?s.subtitle:"",u=!!(o||s!=null&&s.ctaLabel||s!=null&&s.secondaryCtaLabel)||!!(s!=null&&s.badge||s!=null&&s.tag);return e.jsx("section",{className:"bg-[var(--surface-muted)] py-8 sm:py-10",children:e.jsx("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 lg:px-0",children:e.jsxs("div",{className:"relative rounded-[28px] sm:rounded-[40px] overflow-hidden aspect-[4/5] sm:aspect-[16/9] min-h-[280px] sm:min-h-[420px] shadow-2xl",children:[l.map((r,y)=>{const f=r.heroImage,x=r.heroVideo,b=y===m,n=!!x;return e.jsxs("div",{className:`absolute inset-0 transition-all duration-700 ease-out ${b?"opacity-100 scale-100":"opacity-0 scale-105"}`,children:[n?e.jsx("video",{src:x,poster:f||void 0,className:"w-full h-full object-cover object-top bg-[var(--surface)]",muted:!0,playsInline:!0,preload:"metadata",autoPlay:b,ref:j=>{c.current[y]=j||null}}):e.jsx("img",{src:f,alt:r.title||"Hero slide",className:"w-full h-full object-contain sm:object-cover object-center bg-[var(--surface)]",loading:b?"eager":"lazy",decoding:"async",fetchpriority:b?"high":"auto"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/50 via-black/25 to-transparent"})]},r._id||r.title||y)}),u&&e.jsxs("div",{className:"relative z-10 p-8 lg:p-14 max-w-2xl text-white space-y-5",children:[((s==null?void 0:s.badge)||(s==null?void 0:s.tag))&&e.jsx("span",{className:"text-xs uppercase tracking-[0.5em] text-[var(--accent)] opacity-80",children:s.badge||s.tag}),o&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-semibold leading-tight drop-shadow",children:o}),p&&e.jsx("p",{className:"text-base text-gray-100/90",children:p})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[(s==null?void 0:s.ctaLabel)&&e.jsx(C,{to:s.ctaLink||"/products",className:"bg-white/95 text-gray-900 px-6 py-3 rounded-full text-sm font-semibold shadow-lg",children:s.ctaLabel}),(s==null?void 0:s.secondaryCtaLabel)&&e.jsxs(C,{to:s.secondaryCtaLink||"/products",className:"text-white text-sm font-semibold flex items-center gap-1",children:[s.secondaryCtaLabel," >"]})]})]})]})})})},X=t=>t?t.startsWith("http")||t.startsWith("/")?e.jsx("img",{src:t,alt:"",className:"w-7 h-7 object-contain drop-shadow-sm"}):e.jsx("span",{className:"text-2xl leading-none",role:"img","aria-hidden":"true",children:t}):null,Y=({items:t=T})=>{if(!t.length)return null;const l=[...t,...t];return e.jsxs("section",{className:"usp-rail relative overflow-hidden py-6",children:[e.jsx("div",{className:"usp-rail__mask","aria-hidden":"true"}),e.jsx("div",{className:"usp-rail__glow usp-rail__glow--one","aria-hidden":"true"}),e.jsx("div",{className:"usp-rail__glow usp-rail__glow--two","aria-hidden":"true"}),e.jsx("div",{className:"usp-rail__track marquee-track flex gap-10 items-center py-4 pl-8",children:l.map((m,h)=>{var s;const c=m.icon||((s=m.meta)==null?void 0:s.icon);return e.jsxs("div",{className:"usp-rail__item",style:{animationDelay:`${h%t.length*80}ms`},children:[e.jsx("div",{className:"usp-rail__icon",children:X(c)}),e.jsxs("div",{children:[e.jsx("p",{className:"usp-rail__title",children:m.title}),e.jsx("p",{className:"usp-rail__sub",children:m.sub||m.subtitle})]})]},`${m._id||m.title}-${h}`)})})]})},Z=({cards:t=[]})=>{const l=$(),[m,h]=i.useState(()=>Date.now());i.useEffect(()=>{h(Date.now())},[t==null?void 0:t.length]);const c=o=>{var f,x;const p=new URLSearchParams;o!=null&&o._id&&p.set("moodId",o._id);const u=((f=o==null?void 0:o.meta)==null?void 0:f.products)||(o==null?void 0:o.productIds)||[];u.length&&p.set("ids",u.join(","));const r=((x=o==null?void 0:o.meta)==null?void 0:x.collectionSlug)||(o==null?void 0:o.slug);r&&p.set("collectionSlug",r);const y=p.toString();return y?`/products?${y}`:(o==null?void 0:o.ctaLink)||"/products"},s=i.useMemo(()=>{const o=Array.isArray(t)?[...t]:[];for(let p=o.length-1;p>0;p-=1){const u=Math.floor(Math.random()*(p+1));[o[p],o[u]]=[o[u],o[p]]}return o.slice(0,4)},[t,m]);return s.length?e.jsx("section",{className:"py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Shop by mood"}),e.jsx("h2",{className:"text-3xl font-semibold text-gray-900",children:"Featured edits"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:s.map(o=>{const p=L(o.image,"https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=900&q=80"),u=c(o);return e.jsxs("div",{className:`bg-white rounded-3xl overflow-hidden border border-[var(--border)] shadow transition-transform ${u?"hover:-translate-y-1 cursor-pointer":""}`,onClick:()=>{u&&l(u)},children:[e.jsxs("div",{className:"relative h-56 bg-[#fdf9f5] flex items-center justify-center",children:[e.jsx("img",{src:p,alt:o.title,className:"w-full h-full object-contain",loading:"lazy",decoding:"async"}),o.tag&&e.jsx("span",{className:"absolute top-4 left-4 bg-white/90 text-xs uppercase tracking-wide px-3 py-1 rounded-full text-gray-900",children:o.tag})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.title}),e.jsx("p",{className:"text-sm text-gray-500",children:o.subtitle||o.description}),!u&&e.jsx("p",{className:"text-xs text-gray-400",children:"Add products to enable this link."})]})]},o._id||o.title)})})]})}):null},ee=({collection:t,products:l,loading:m,error:h,addToCart:c})=>{const s=$(),o=((t==null?void 0:t.title)||"Featured Sarees").toUpperCase(),p=(t==null?void 0:t.description)||(t==null?void 0:t.subtitle),u=t!=null&&t.slug?`/products?collectionSlug=${t.slug}`:(t==null?void 0:t.ctaLink)||"/products",r=i.useMemo(()=>{const n=[];return Array.isArray(t==null?void 0:t.heroImages)&&n.push(...t.heroImages.filter(Boolean)),t!=null&&t.heroImage&&n.push(t.heroImage),n},[t==null?void 0:t.heroImages,t==null?void 0:t.heroImage]),[y,f]=i.useState(0);i.useEffect(()=>{f(0)},[r.length]),i.useEffect(()=>{if(r.length<=1)return;const n=setInterval(()=>{f(j=>(j+1)%r.length)},4e3);return()=>clearInterval(n)},[r.length]);const x=L(r[y],"https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=1400&q=80"),b=i.useMemo(()=>(l||[]).slice(0,4),[l]);return e.jsx("section",{className:"py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[var(--accent)]",children:(t==null?void 0:t.tag)||"Trending now"}),e.jsx("h2",{className:"text-3xl font-semibold text-gray-900",children:o})]}),x&&e.jsxs("div",{className:`relative rounded-[28px] sm:rounded-[40px] overflow-hidden aspect-[4/5] sm:aspect-[21/9] min-h-[260px] sm:min-h-[320px] shadow-xl ${u?"cursor-pointer":""}`,onClick:()=>u&&s(u),role:u?"button":void 0,tabIndex:u?0:void 0,onKeyDown:n=>{u&&(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),s(u))},children:[e.jsx("img",{src:x,alt:t==null?void 0:t.title,className:"w-full h-full object-contain sm:object-cover bg-[var(--surface-muted)]",loading:"lazy",decoding:"async"}),e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-r from-black/45 via-black/20 to-transparent text-white p-8 flex flex-col justify-center max-w-lg space-y-4",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-[var(--accent)] opacity-90",children:(t==null?void 0:t.tag)||"Editor pick"}),e.jsx("h3",{className:"text-3xl font-semibold",children:t==null?void 0:t.title}),p&&e.jsx("p",{className:"text-sm text-white/80",children:p})]})]}),m?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((n,j)=>e.jsx("div",{className:"h-72 bg-white rounded-3xl animate-pulse"},j))}):h?e.jsx("p",{className:"text-red-500 text-sm text-center",children:h}):l.length===0?e.jsx("div",{className:"bg-white border border-dashed border-gray-200 rounded-3xl p-10 text-center text-sm text-gray-400",children:"No products linked to this collection yet. Add items from the admin panel to display them here."}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5",children:b.map(n=>{var N,_;const j=n.discountPrice||n.price,v=n.discountPrice&&n.price?Math.round((n.price-n.discountPrice)/n.price*100):null,w=async S=>{S.stopPropagation(),await c(n._id),s("/checkout")};return e.jsxs("div",{className:"bg-white rounded-[28px] border border-gray-100 shadow-sm hover:-translate-y-1 transition",onClick:()=>s(`/product/${n._id}`),children:[e.jsxs("div",{className:"relative rounded-t-[28px] overflow-hidden bg-[#fdf9f5] flex items-center justify-center",style:{aspectRatio:"3 / 4",minHeight:220},children:[e.jsx("img",{src:Q(n),alt:n.name,className:"w-full h-full object-contain",loading:"lazy",decoding:"async"}),v?e.jsxs("span",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded-full",children:["-",v,"%"]}):null,((_=(N=n.collections)==null?void 0:N[0])==null?void 0:_.title)&&e.jsx("span",{className:"absolute top-3 right-3 bg-white/80 text-xs px-3 py-1 rounded-full text-gray-800",children:n.collections[0].title})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:n.category||(t==null?void 0:t.title)}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 line-clamp-2",children:n.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:R(j)}),n.discountPrice&&e.jsx("span",{className:"text-gray-400 line-through",children:R(n.price)})]}),e.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),c(n._id)},className:"inline-flex items-center justify-center w-full mt-2 bg-gray-900 text-white text-sm font-semibold rounded-full px-4 py-2",children:"Add to cart"}),e.jsx("button",{type:"button",onClick:w,className:"inline-flex items-center justify-center w-full mt-2 bg-gradient-to-r from-[var(--primary,#111)] to-[var(--accent,#333)] text-white text-sm font-semibold rounded-full px-4 py-2",children:"Buy now"})]})]},n._id)})})})]})})},te=({story:t=E})=>{var m,h;if(!t)return null;const l=((m=t.meta)==null?void 0:m.stats)||t.stats||((h=E.meta)==null?void 0:h.stats)||[];return e.jsxs("section",{className:"story-hero relative overflow-hidden py-16 px-4",children:[e.jsx("div",{className:"story-hero__glow story-hero__glow--one","aria-hidden":"true"}),e.jsx("div",{className:"story-hero__glow story-hero__glow--two","aria-hidden":"true"}),e.jsxs("div",{className:"max-w-6xl mx-auto relative z-10 text-center space-y-6",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/70 backdrop-blur border border-white/60 shadow-sm",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--accent)] animate-pulse"}),e.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-[var(--muted)]",children:"Brand story"})]}),e.jsx("h3",{className:"text-3xl md:text-4xl font-semibold text-[var(--ink)] drop-shadow-sm",children:t.title}),e.jsx("p",{className:"text-lg md:text-xl text-[var(--muted)] max-w-4xl mx-auto leading-relaxed",children:t.description}),t.ctaLabel&&e.jsxs(C,{to:t.ctaLink||"/products",className:"inline-flex items-center justify-center px-7 py-3 rounded-full text-white text-sm font-semibold shadow-lg story-hero__cta",children:[t.ctaLabel,e.jsx("span",{className:"ml-2 text-lg",children:"â†’"})]}),l.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-8",children:l.map((c,s)=>e.jsxs("div",{className:"story-hero__stat",style:{animationDelay:`${s*120}ms`},children:[e.jsx("p",{className:"text-3xl font-semibold text-[var(--ink)]",children:c.value}),e.jsx("p",{className:"text-xs uppercase tracking-[0.28em] text-[var(--muted)]",children:c.label})]},c.label))})]})]})},se=({testimonials:t=[],title:l="Customer reviews"})=>{if(!t||t.length===0)return null;const[m,h]=i.useState(0);i.useEffect(()=>{h(0)},[t.length]),i.useEffect(()=>{const s=setInterval(()=>{h(o=>(o+1)%t.length)},4e3);return()=>clearInterval(s)},[t.length]);const c=t[m];return e.jsx("section",{className:"bg-white py-16 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[var(--accent)]",children:l}),e.jsxs("div",{className:"flex items-center justify-center gap-3 text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"flex items-center gap-1 text-yellow-500",children:"â˜…â˜…â˜…â˜…â˜…".slice(0,Math.round(c.rating||5))}),c.rating&&e.jsxs("span",{children:[c.rating," â˜…"]}),c.verified&&e.jsx("span",{className:"flex items-center gap-1 text-emerald-600 text-xs border border-emerald-200 px-2 py-1 rounded-full",children:"âœ” Verified"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-[32px] p-8 shadow-xl",children:[e.jsx("div",{className:"text-emerald-600 text-4xl mb-4",children:"â€"}),e.jsx("blockquote",{className:"text-xl text-gray-900 leading-relaxed",children:c.quote||c.text}),e.jsxs("div",{className:"mt-6 space-y-1",children:[e.jsxs("p",{className:"font-semibold text-gray-900 flex items-center justify-center gap-2",children:[c.author||c.customer,c.verified&&e.jsx("span",{className:"text-xs text-gray-500 border border-gray-200 px-2 py-1 rounded-full",children:"Verified"})]}),c.role&&e.jsx("p",{className:"text-sm text-gray-500",children:c.role}),c.product&&e.jsx(C,{to:c.productLink||"/products",className:"text-sm text-[var(--primary)] underline",children:c.product})]})]})]})})};function ne(){const{addToCart:t}=i.useContext(U),[l,m]=i.useState([]),[h,c]=i.useState([]),[s,o]=i.useState([]),[p,u]=i.useState(!0),[r,y]=i.useState(!0),[f,x]=i.useState(!0),[b,n]=i.useState("");i.useEffect(()=>{G({title:"Mrigmaya | Handcrafted drapes and edits",description:"Discover couture calm sarees, heirloom Banarasis, and hand-finished silhouettes crafted in Surat and delivered pan-India."})},[]);const[j,v]=i.useState(""),[w,N]=i.useState("");i.useEffect(()=>{let a=!0;return u(!0),A.get("/products?includeInactive=true").then(g=>{var d;a&&(m(Array.isArray(g.data)?g.data:((d=g.data)==null?void 0:d.products)||[]),n(""))}).catch(()=>{a&&n("Could not load the latest drops. Please refresh in a moment.")}).finally(()=>{a&&u(!1)}),()=>{a=!1}},[]),i.useEffect(()=>{let a=!0;return y(!0),A.get("/collections?includeProducts=true").then(g=>{a&&(c(g.data||[]),v(""))}).catch(()=>{a&&v("Collections not available right now.")}).finally(()=>a&&y(!1)),()=>{a=!1}},[]),i.useEffect(()=>{let a=!0;return x(!0),A.get("/home-sections").then(g=>{a&&(o(g.data||[]),N(""))}).catch(()=>{a&&N("Homepage banners failed to load. Showing defaults.")}).finally(()=>a&&x(!1)),()=>{a=!1}},[]),i.useMemo(()=>l.slice(0,4),[l]),i.useMemo(()=>[...l].sort((a,g)=>(g.price||0)-(a.price||0)).slice(0,4),[l]);const _=["sarees","suits","best-seller","gold"],S=i.useMemo(()=>{const a=_.map(d=>h.find(k=>k.slug===d)).filter(d=>d&&d.displayOnHome!==!1),g=h.filter(d=>d.displayOnHome!==!1&&!_.includes(d.slug)).sort((d,k)=>(d.priority||999)-(k.priority||999));return[...a,...g]},[h]),I=i.useMemo(()=>{const a={};return s.forEach(g=>{const d=g.group||"custom";a[d]||(a[d]=[]),a[d].push(g)}),Object.keys(a).forEach(g=>{a[g].sort((d,k)=>(d.order??0)-(k.order??0))}),a},[s]),F=I.hero||[],B=I.usp||[],z=I.category||[],q=I.story||[],O=I.testimonial||[],P=f?[]:F.filter(a=>{var M,V,H;const g=(a==null?void 0:a.heroImage)||(a==null?void 0:a.image)||(a==null?void 0:a.mobileImage)||(a==null?void 0:a.desktopImage)||(a==null?void 0:a.cover)||(a==null?void 0:a.banner)||((M=a==null?void 0:a.meta)==null?void 0:M.image)||((V=a==null?void 0:a.meta)==null?void 0:V.cover)||(Array.isArray(a==null?void 0:a.images)?a.images[0]:null),d=(a==null?void 0:a.heroVideo)||(a==null?void 0:a.video)||((H=a==null?void 0:a.meta)==null?void 0:H.video),k=typeof g=="string"?g.trim():!!g,K=typeof d=="string"?d.trim():!!d;return(a==null?void 0:a.active)!==!1&&(k||K)});return e.jsxs("div",{className:"bg-[var(--bg)] text-[var(--ink)] home-shell",children:[P.length>0&&e.jsx(J,{slides:P}),e.jsx(Y,{items:B.length?B:T}),w&&e.jsx("div",{className:"max-w-6xl mx-auto px-4 text-sm text-amber-600",children:w}),e.jsx(Z,{cards:z,products:l}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 flex justify-end mt-2",children:e.jsx(C,{to:"/products",className:"text-sm text-[var(--primary)] font-semibold",children:"View all products"})}),S.length>0&&S.map(a=>e.jsx(ee,{collection:a,products:a.products||[],loading:p||r,error:b||j,addToCart:t},a._id)),e.jsx(te,{story:q[0]||E}),e.jsx(se,{testimonials:O,title:"Customer reviews"})]})}export{ne as default};
