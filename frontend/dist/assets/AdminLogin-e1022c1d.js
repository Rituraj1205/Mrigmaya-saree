import{r as t,A as f,u as h,j as e,z as r,i as v}from"./index-a1a7f1c8.js";function w(){const{login:m}=t.useContext(f),[n,u]=t.useState("mrigmaya101@gmail.com"),[i,x]=t.useState("Mrigmaya@*123"),[o,l]=t.useState(!1),p=h(),g=async()=>{var a,c,d;if(!n.trim()||!i.trim()){r.error("Email and password required");return}l(!0);try{const s=await v.post("/auth/login-password",{email:n,password:i});if(((a=s.data.user)==null?void 0:a.role)!=="admin"){r.error("Admin access only"),l(!1);return}m(s.data.token,s.data.user),r.success("Welcome back"),p("/admin")}catch(s){r.error(((d=(c=s.response)==null?void 0:c.data)==null?void 0:d.msg)||"Login failed")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--bg)] px-4",children:e.jsxs("div",{className:"card-shell w-full max-w-md p-8 space-y-5",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[var(--muted)]",children:"Admin panel"}),e.jsx("h1",{className:"text-2xl font-semibold text-[var(--ink)] mt-1",children:"Login with password"}),e.jsx("p",{className:"text-sm text-[var(--muted)]",children:"Use the admin email and password."})]}),e.jsx("label",{className:"text-sm text-[var(--muted)]",children:"Email"}),e.jsx("input",{type:"email",value:n,onChange:a=>u(a.target.value),placeholder:"admin@example.com",className:"border border-[var(--border)] rounded-xl w-full px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/40 bg-white"}),e.jsx("label",{className:"text-sm text-[var(--muted)]",children:"Password"}),e.jsx("input",{type:"password",value:i,onChange:a=>x(a.target.value),className:"border border-[var(--border)] rounded-xl w-full px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/40 bg-white"}),e.jsx("button",{onClick:g,className:"w-full pill-button justify-center disabled:opacity-70",disabled:o,children:o?"Signing in...":"Login"})]})})}export{w as default};
