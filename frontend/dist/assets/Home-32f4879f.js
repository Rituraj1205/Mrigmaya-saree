import{r as i,C as Q,i as E,j as e,L as S,u as $,b as J,a as X}from"./index-a1a7f1c8.js";import{s as Y}from"./seo-9ae4805b.js";const ee="data:image/gif;base64,R0lGODlhAQABAAD/ACw=",R=[{title:"Free shipping",sub:"Pan-India delivery"},{title:"Easy returns",sub:"Hassle-free pickup"},{title:"Secure payments",sub:"UPI / Cards / Wallets",icon:"??"},{title:"Cash on delivery",sub:"Pay after delivery",icon:"??"},{title:"Genuine quality",sub:"Trusted artisan partners"},{title:"3,000+ styles",sub:"Fresh drops weekly"},{title:"Express dispatch",sub:"Ships in 24 hrs"},{title:"Dedicated stylists",sub:"WhatsApp support",icon:"??"}],D={title:"",description:"",ctaLabel:"",ctaLink:"/products",meta:{stats:[]}},T=t=>`Rs. ${new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(t||0)}`,A=(t,x)=>J(t,x),te=t=>X(t,ee),se=({slides:t=[],isMobile:x=!1})=>{const m=(t==null?void 0:t.map(r=>{var N,k,w,_,L;const f=x?(r==null?void 0:r.mobileImage)||(r==null?void 0:r.heroImage)||(r==null?void 0:r.image)||(r==null?void 0:r.desktopImage)||(r==null?void 0:r.cover)||(r==null?void 0:r.banner)||((N=r==null?void 0:r.meta)==null?void 0:N.image)||((k=r==null?void 0:r.meta)==null?void 0:k.cover)||(Array.isArray(r==null?void 0:r.images)?r.images[0]:null):(r==null?void 0:r.heroImage)||(r==null?void 0:r.image)||(r==null?void 0:r.mobileImage)||(r==null?void 0:r.desktopImage)||(r==null?void 0:r.cover)||(r==null?void 0:r.banner)||((w=r==null?void 0:r.meta)==null?void 0:w.image)||((_=r==null?void 0:r.meta)==null?void 0:_.cover)||(Array.isArray(r==null?void 0:r.images)?r.images[0]:null),p=typeof f=="string"?f.trim():f,b=(r==null?void 0:r.heroVideo)||(r==null?void 0:r.video)||((L=r==null?void 0:r.meta)==null?void 0:L.video),j=typeof b=="string"?b.trim():b;if(!p&&!j)return null;const n=p?A(p,p):"",v=j?A(j,j):"";return{...r,heroImage:n,heroVideo:v}}).filter(Boolean))||[];if(!m.length)return null;const[c,o]=i.useState(0);i.useEffect(()=>{o(0)},[m.length]);const u=i.useRef([]);i.useEffect(()=>{var j;if(!m.length)return;const f=!!(m[c]||{}).heroVideo,p=()=>o(n=>(n+1)%m.length);let b;if(f){const n=u.current[c];if(n){n.currentTime=0;const v=()=>p();n.addEventListener("ended",v);const N=(j=n.play)==null?void 0:j.call(n);N!=null&&N.catch&&N.catch(()=>{});const k=Number.isFinite(n.duration)&&n.duration>0?n.duration*1e3:0;return k>0&&(b=setTimeout(p,k+200)),()=>{var w;(w=n.pause)==null||w.call(n),n.removeEventListener("ended",v),b&&clearTimeout(b)}}}return b=setTimeout(p,3e3),()=>{b&&clearTimeout(b)}},[m,c]);const s=m[c];s==null||s.heroImage,s==null||s.heroVideo;const g=(s==null?void 0:s.title)||(s==null?void 0:s.description)||(s==null?void 0:s.subtitle),l=s!=null&&s.title?(s==null?void 0:s.description)||(s==null?void 0:s.subtitle):s!=null&&s.description&&(s!=null&&s.subtitle)?s.subtitle:"",y=!!(g||s!=null&&s.ctaLabel||s!=null&&s.secondaryCtaLabel)||!!(s!=null&&s.badge||s!=null&&s.tag);return e.jsx("section",{className:"hero-banner hero-fullbleed",children:e.jsx("div",{className:"hero-fullbleed__inner",children:e.jsxs("div",{className:"hero-banner__frame",children:[m.map((r,f)=>{const p=r.heroImage,b=r.heroVideo,j=f===c,n=!!b;return e.jsx("div",{className:`hero-slide absolute inset-0 transition-all duration-700 ease-out ${j?"opacity-100 scale-100":"opacity-0 scale-105"}`,children:n?e.jsx("video",{src:b,poster:p||void 0,className:"w-full h-full object-cover object-top bg-[var(--surface)]",muted:!0,playsInline:!0,preload:"metadata",autoPlay:j,ref:v=>{u.current[f]=v||null}}):e.jsx("img",{src:p,alt:r.title||"Hero slide",className:"hero-slide__image",loading:j?"eager":"lazy",decoding:"async",fetchpriority:j?"high":"auto"})},r._id||r.title||f)}),y&&e.jsxs("div",{className:"hero-banner__copy",children:[((s==null?void 0:s.badge)||(s==null?void 0:s.tag))&&e.jsx("span",{className:"hero-banner__badge",children:s.badge||s.tag}),g&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"hero-banner__title",children:g}),l&&e.jsx("p",{className:"hero-banner__support",children:l})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[(s==null?void 0:s.ctaLabel)&&e.jsx(S,{to:s.ctaLink||"/products",className:"hero-banner__cta",children:s.ctaLabel}),(s==null?void 0:s.secondaryCtaLabel)&&e.jsxs(S,{to:s.secondaryCtaLink||"/products",className:"hero-banner__cta hero-banner__cta--ghost",children:[s.secondaryCtaLabel," >"]})]})]})]})})})},re=(t,x="")=>{const m=(t||"").toLowerCase(),c=(x||"").toLowerCase(),o=g=>g.some(l=>m.includes(l)||c.includes(l)),u={shipping:e.jsxs("svg",{viewBox:"0 0 24 24",className:"usp-icon-svg",children:[e.jsx("path",{d:"M3 7h11v10H3V7Zm11 4h3l2 2v4h-5v-6Zm-8 6.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm10 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M14 9h4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),returns:e.jsxs("svg",{viewBox:"0 0 24 24",className:"usp-icon-svg",children:[e.jsx("path",{d:"M5.5 10.5 3 8l2.5-2.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M3.5 8H13a4 4 0 0 1 0 8H9.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M14 13.5 11.5 16 14 18.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),styles:e.jsx("svg",{viewBox:"0 0 24 24",className:"usp-icon-svg",children:e.jsx("path",{d:"m12 3 2.2 4.7L19 8.5l-3.5 3.4.8 4.9L12 14.8 7.7 16.8l.8-4.9L5 8.5l4.8-.8L12 3Z",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})}),quality:e.jsxs("svg",{viewBox:"0 0 24 24",className:"usp-icon-svg",children:[e.jsx("path",{d:"M12 2.8 15.2 5l3.8.6-.6 3.8L20 13l-2.6 2.6.6 3.8-3.8.6L12 21l-2.6 1.1-3.8-.6.6-3.8L4 13l1.6-3.6-.6-3.8 3.8-.6L12 2.8Z",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.8 12.2 11 14.4l3.2-4.8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},s=o(["ship","delivery"])?"shipping":o(["return"])?"returns":o(["style","look","edit","collection"])?"styles":o(["quality","genuine","authentic"])?"quality":null;return t&&(t.startsWith("http")||t.startsWith("/"))?e.jsx("img",{src:t,alt:"",className:"usp-icon-img"}):s&&u[s]?u[s]:t?e.jsx("span",{className:"text-xl leading-none",role:"img","aria-hidden":"true",children:t}):u.quality},ae=({items:t=R})=>{if(!t.length)return null;const x=[...t,...t,...t];return e.jsx("section",{className:"usp-rail relative overflow-hidden py-4",children:e.jsx("div",{className:"usp-rail__track marquee-track flex gap-8 items-center py-2",children:x.map((m,c)=>{var u;const o=m.icon||((u=m.meta)==null?void 0:u.icon);return e.jsxs("div",{className:"usp-rail__item",children:[e.jsx("div",{className:"usp-rail__icon",children:re(o,m.title||m.sub||m.subtitle)}),e.jsx("p",{className:"usp-rail__title",children:m.title})]},`${m._id||m.title}-${c}`)})})})},ne=({cards:t=[]})=>{const x=$(),m=s=>{var f,p;const g=new URLSearchParams;s!=null&&s._id&&g.set("moodId",s._id);const l=((f=s==null?void 0:s.meta)==null?void 0:f.products)||(s==null?void 0:s.productIds)||[];l.length&&g.set("ids",l.join(","));const y=((p=s==null?void 0:s.meta)==null?void 0:p.collectionSlug)||(s==null?void 0:s.slug);y&&g.set("collectionSlug",y);const r=g.toString();return r?`/products?${r}`:(s==null?void 0:s.ctaLink)||"/products"},c=i.useMemo(()=>Array.isArray(t)?[...t]:[],[t]),[o,u]=i.useState(()=>c.slice(0,4));return i.useEffect(()=>{if(c.length<=4){u(c);return}let s=0;u(c.slice(0,4));const g=setInterval(()=>{s=(s+1)%c.length;const l=[];for(let y=0;y<4;y+=1)l.push(c[(s+y)%c.length]);u(l)},4e3);return()=>clearInterval(g)},[c]),c.length?e.jsx("section",{className:"py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Shop by mood"}),e.jsx("h2",{className:"text-3xl font-semibold text-gray-900",children:"Featured edits"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:o.map(s=>{const g=A(s.image,"https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=900&q=80"),l=m(s);return e.jsxs("div",{className:`bg-white rounded-3xl overflow-hidden border border-[var(--border)] shadow transition-transform ${l?"hover:-translate-y-1 cursor-pointer":""}`,onClick:()=>{l&&x(l)},children:[e.jsxs("div",{className:"relative h-48 bg-[#fdf9f5] flex items-center justify-center",children:[e.jsx("img",{src:g,alt:s.title,className:"w-full h-full object-contain",loading:"lazy",decoding:"async"}),s.tag&&e.jsx("span",{className:"absolute top-4 left-4 bg-white/90 text-xs uppercase tracking-wide px-3 py-1 rounded-full text-gray-900",children:s.tag})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500",children:s.subtitle||s.description}),!l&&e.jsx("p",{className:"text-xs text-gray-400",children:"Add products to enable this link."})]})]},s._id||s.title)})})]})}):null},oe=({collection:t,products:x,loading:m,error:c,addToCart:o})=>{const u=$(),s=((t==null?void 0:t.title)||"Featured Sarees").toUpperCase(),g=(t==null?void 0:t.description)||(t==null?void 0:t.subtitle),l=t!=null&&t.slug?`/products?collectionSlug=${t.slug}`:(t==null?void 0:t.ctaLink)||"/products",y=i.useMemo(()=>{const n=[];return Array.isArray(t==null?void 0:t.heroImages)&&n.push(...t.heroImages.filter(Boolean)),t!=null&&t.heroImage&&n.push(t.heroImage),n},[t==null?void 0:t.heroImages,t==null?void 0:t.heroImage]),[r,f]=i.useState(0);i.useEffect(()=>{f(0)},[y.length]),i.useEffect(()=>{if(y.length<=1)return;const n=setInterval(()=>{f(v=>(v+1)%y.length)},4e3);return()=>clearInterval(n)},[y.length]);const p=A(y[r],"https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=1400&q=80"),b=i.useMemo(()=>(x||[]).slice(0,4),[x]),j=t!=null&&t.title?`View all ${t.title}`:"View all";return e.jsx("section",{className:"py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[var(--accent)]",children:(t==null?void 0:t.tag)||"Trending now"}),e.jsx("h2",{className:"text-3xl font-semibold text-gray-900",children:s})]}),p&&e.jsxs("div",{className:`featured-hero ${l?"featured-hero--clickable":""}`,onClick:()=>l&&u(l),role:l?"button":void 0,tabIndex:l?0:void 0,onKeyDown:n=>{l&&(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),u(l))},children:[e.jsx("img",{src:p,alt:t==null?void 0:t.title,className:"featured-rail__image",loading:"lazy",decoding:"async"}),e.jsxs("div",{className:"featured-hero__copy",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-[var(--accent)] opacity-90",children:(t==null?void 0:t.tag)||"Editor pick"}),e.jsx("h3",{className:"text-3xl font-semibold",children:t==null?void 0:t.title}),g&&e.jsx("p",{className:"text-sm text-white/80",children:g})]})]}),m?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((n,v)=>e.jsx("div",{className:"h-72 bg-white rounded-3xl animate-pulse"},v))}):c?e.jsx("p",{className:"text-red-500 text-sm text-center",children:c}):x.length===0?e.jsx("div",{className:"bg-white border border-dashed border-gray-200 rounded-3xl p-10 text-center text-sm text-gray-400",children:"No products linked to this collection yet. Add items from the admin panel to display them here."}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:b.map(n=>{var w,_;const v=n.discountPrice||n.price,N=n.discountPrice&&n.price?Math.round((n.price-n.discountPrice)/n.price*100):null,k=async L=>{L.stopPropagation(),await o(n._id),u("/checkout")};return e.jsxs("div",{className:"bg-white rounded-[28px] border border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition overflow-hidden",onClick:()=>u(`/product/${n._id}`),children:[e.jsxs("div",{className:"relative rounded-t-[28px] overflow-hidden bg-gradient-to-b from-[#fdf9f5] to-white flex items-center justify-center",style:{aspectRatio:"3 / 4",minHeight:260},children:[e.jsx("img",{src:te(n),alt:n.name,className:"w-full h-full object-contain",loading:"lazy",decoding:"async"}),N?e.jsxs("span",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs font-semibold px-2.5 py-1 rounded-full shadow-md",children:["-",N,"%"]}):null,((_=(w=n.collections)==null?void 0:w[0])==null?void 0:_.title)&&e.jsx("span",{className:"absolute top-3 right-3 bg-white/90 text-[11px] px-3 py-1 rounded-full text-gray-800 shadow",children:n.collections[0].title})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:n.category||(t==null?void 0:t.title)}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 line-clamp-2 leading-snug",children:n.name}),e.jsxs("div",{className:"flex items-baseline gap-2 text-sm",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:T(v)}),n.discountPrice&&e.jsx("span",{className:"text-gray-400 line-through text-xs",children:T(n.price)})]}),e.jsx("button",{type:"button",onClick:L=>{L.stopPropagation(),o(n._id)},className:"inline-flex items-center justify-center w-full mt-2 bg-gray-900 text-white text-sm font-semibold rounded-full px-4 py-2 shadow-sm hover:shadow-md",children:"Add to cart"}),e.jsx("button",{type:"button",onClick:k,className:"inline-flex items-center justify-center w-full mt-2 bg-gradient-to-r from-[var(--primary,#111)] to-[var(--accent,#c58f2b)] text-white text-sm font-semibold rounded-full px-4 py-2 shadow-sm hover:shadow-md",children:"Buy now"})]})]},n._id)})})}),l&&e.jsx("div",{className:"text-center pt-2",children:e.jsx("button",{className:"inline-flex items-center justify-center px-5 py-2 rounded-full bg-[var(--primary)] text-white text-sm font-semibold shadow hover:-translate-y-0.5 transition",onClick:()=>u(l),children:j})})]})})},ie=({story:t=D})=>{var c;if(!t)return null;const x=((c=t==null?void 0:t.meta)==null?void 0:c.stats)||(t==null?void 0:t.stats)||[];return!(t!=null&&t.title||t!=null&&t.description||t!=null&&t.ctaLabel||x.length)?null:e.jsxs("section",{className:"story-hero relative overflow-hidden py-16 px-4",children:[e.jsx("div",{className:"story-hero__glow story-hero__glow--one","aria-hidden":"true"}),e.jsx("div",{className:"story-hero__glow story-hero__glow--two","aria-hidden":"true"}),e.jsxs("div",{className:"max-w-6xl mx-auto relative z-10 text-center space-y-6",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/70 backdrop-blur border border-white/60 shadow-sm",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--accent)] animate-pulse"}),e.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-[var(--muted)]",children:"Brand story"})]}),(t==null?void 0:t.title)&&e.jsx("h3",{className:"text-3xl md:text-4xl font-semibold text-[var(--ink)] drop-shadow-sm",children:t.title}),(t==null?void 0:t.description)&&e.jsx("p",{className:"text-lg md:text-xl text-[var(--muted)] max-w-4xl mx-auto leading-relaxed",children:t.description}),(t==null?void 0:t.ctaLabel)&&e.jsxs(S,{to:t.ctaLink||"/products",className:"inline-flex items-center justify-center px-7 py-3 rounded-full text-white text-sm font-semibold shadow-lg story-hero__cta",children:[t.ctaLabel,e.jsx("span",{className:"ml-2 text-lg",children:"→"})]}),x.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-8",children:x.map((o,u)=>e.jsxs("div",{className:"story-hero__stat",style:{animationDelay:`${u*120}ms`},children:[e.jsx("p",{className:"text-3xl font-semibold text-[var(--ink)]",children:o.value}),e.jsx("p",{className:"text-xs uppercase tracking-[0.28em] text-[var(--muted)]",children:o.label})]},o.label))})]})]})},ce=({testimonials:t=[],title:x="Customer reviews"})=>{if(!t||t.length===0)return null;const[m,c]=i.useState(0);i.useEffect(()=>{c(0)},[t.length]),i.useEffect(()=>{const u=setInterval(()=>{c(s=>(s+1)%t.length)},4e3);return()=>clearInterval(u)},[t.length]);const o=t[m];return e.jsx("section",{className:"bg-white py-16 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[var(--accent)]",children:x}),e.jsxs("div",{className:"flex items-center justify-center gap-3 text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"flex items-center gap-1 text-yellow-500",children:"★★★★★".slice(0,Math.round(o.rating||5))}),o.rating&&e.jsxs("span",{children:[o.rating," ★"]}),o.verified&&e.jsx("span",{className:"flex items-center gap-1 text-emerald-600 text-xs border border-emerald-200 px-2 py-1 rounded-full",children:"✔ Verified"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-[32px] p-8 shadow-xl",children:[e.jsx("div",{className:"text-emerald-600 text-4xl mb-4",children:"”"}),e.jsx("blockquote",{className:"text-xl text-gray-900 leading-relaxed",children:o.quote||o.text}),e.jsxs("div",{className:"mt-6 space-y-1",children:[e.jsxs("p",{className:"font-semibold text-gray-900 flex items-center justify-center gap-2",children:[o.author||o.customer,o.verified&&e.jsx("span",{className:"text-xs text-gray-500 border border-gray-200 px-2 py-1 rounded-full",children:"Verified"})]}),o.role&&e.jsx("p",{className:"text-sm text-gray-500",children:o.role}),o.product&&e.jsx(S,{to:o.productLink||"/products",className:"text-sm text-[var(--primary)] underline",children:o.product})]})]})]})})};function he(){const{addToCart:t}=i.useContext(Q),[x,m]=i.useState([]),[c,o]=i.useState([]),[u,s]=i.useState([]),[g,l]=i.useState(!0),[y,r]=i.useState(!0),[f,p]=i.useState(!0),[b,j]=i.useState(""),[n,v]=i.useState(!1);i.useEffect(()=>{Y({title:"Mrigmaya | Handcrafted drapes and edits",description:"Discover couture calm sarees, heirloom Banarasis, and hand-finished silhouettes crafted in Surat and delivered pan-India."})},[]);const[N,k]=i.useState(""),[w,_]=i.useState("");i.useEffect(()=>{const a=window.matchMedia("(max-width: 640px)"),h=()=>v(a.matches);return h(),a.addEventListener?a.addEventListener("change",h):a.addListener(h),()=>{a.removeEventListener?a.removeEventListener("change",h):a.removeListener(h)}},[]),i.useEffect(()=>{let a=!0;return l(!0),E.get("/products?includeInactive=true").then(h=>{var d;a&&(m(Array.isArray(h.data)?h.data:((d=h.data)==null?void 0:d.products)||[]),j(""))}).catch(()=>{a&&j("Could not load the latest drops. Please refresh in a moment.")}).finally(()=>{a&&l(!1)}),()=>{a=!1}},[]),i.useEffect(()=>{let a=!0;return r(!0),E.get("/collections?includeProducts=true").then(h=>{a&&(o(h.data||[]),k(""))}).catch(()=>{a&&k("Collections not available right now.")}).finally(()=>a&&r(!1)),()=>{a=!1}},[]),i.useEffect(()=>{let a=!0;return p(!0),E.get("/home-sections").then(h=>{a&&(s(h.data||[]),_(""))}).catch(()=>{a&&_("Homepage banners failed to load. Showing defaults.")}).finally(()=>a&&p(!1)),()=>{a=!1}},[]),i.useMemo(()=>x.slice(0,6),[x]),i.useMemo(()=>[...x].sort((a,h)=>(h.price||0)-(a.price||0)).slice(0,6),[x]);const L=["sarees","suits","best-seller","gold"],M=i.useMemo(()=>{const a=L.map(d=>c.find(I=>I.slug===d)).filter(d=>d&&d.displayOnHome!==!1),h=c.filter(d=>d.displayOnHome!==!1&&!L.includes(d.slug)).sort((d,I)=>(d.priority||999)-(I.priority||999));return[...a,...h]},[c]),C=i.useMemo(()=>{const a={};return u.forEach(h=>{const d=h.group||"custom";a[d]||(a[d]=[]),a[d].push(h)}),Object.keys(a).forEach(h=>{a[h].sort((d,I)=>(d.order??0)-(I.order??0))}),a},[u]),z=C.hero||[],B=C.usp||[],O=C.category||[],Z=C.story||[],U=C.testimonial||[],P=f?[]:z.filter(a=>{var H,W,q,F;const h=(a==null?void 0:a.heroImage)||(a==null?void 0:a.image)||(a==null?void 0:a.mobileImage)||(a==null?void 0:a.desktopImage)||(a==null?void 0:a.cover)||(a==null?void 0:a.banner)||((H=a==null?void 0:a.meta)==null?void 0:H.image)||((W=a==null?void 0:a.meta)==null?void 0:W.cover)||(Array.isArray(a==null?void 0:a.images)?a.images[0]:null),d=(a==null?void 0:a.heroVideo)||(a==null?void 0:a.video)||((q=a==null?void 0:a.meta)==null?void 0:q.video),I=typeof h=="string"?h.trim():!!h,G=typeof d=="string"?d.trim():!!d,V=((F=a==null?void 0:a.meta)==null?void 0:F.showOnMobile)===!0,K=(a==null?void 0:a.active)!==!1;return(n?V:K&&!V)&&(I||G)});return e.jsxs("div",{className:"bg-[var(--bg)] text-[var(--ink)] home-shell",children:[P.length>0&&e.jsx(se,{slides:P,isMobile:n}),e.jsx(ae,{items:B.length?B:R}),w&&e.jsx("div",{className:"max-w-6xl mx-auto px-4 text-sm text-amber-600",children:w}),e.jsx(ne,{cards:O,products:x}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 flex justify-end mt-2",children:e.jsx(S,{to:"/products",className:"text-sm text-[var(--primary)] font-semibold",children:"View all products"})}),M.length>0&&M.map(a=>e.jsx(oe,{collection:a,products:a.products||[],loading:g||y,error:b||N,addToCart:t},a._id)),e.jsx(ie,{story:Z[0]||D}),e.jsx(ce,{testimonials:U,title:"Customer reviews"})]})}export{he as default};
