import{f as u,u as g,r,A as f,j as a}from"./index-a1a7f1c8.js";function p(){const[e]=u(),t=g(),{login:n}=r.useContext(f),o=r.useRef(!1);return r.useEffect(()=>{if(o.current)return;o.current=!0;const s=e.get("token"),i=e.get("name"),c=e.get("email"),l=e.get("redirect")||"/";if(e.get("error")){t("/login",{replace:!0,state:{error:"Google sign-in failed"}});return}s?(n(s,{name:i,email:c}),localStorage.setItem("login_success","1"),window.location.replace(l||"/")):t("/login",{replace:!0})},[e,n,t]),a.jsx("div",{className:"p-6 min-h-screen bg-[#fefbfe] text-gray-800",children:a.jsx("p",{children:"Signing you in with Google..."})})}export{p as default};
