import{r as l,C as Z,i as A,j as e,L as S,u as W,b as O,a as U}from"./index-9b45da5b.js";import{s as G}from"./seo-4fb2e452.js";const K="data:image/gif;base64,R0lGODlhAQABAAD/ACw=",q=[{title:"Free shipping",sub:"Pan-India delivery"},{title:"Easy returns",sub:"Hassle-free pickup"},{title:"Secure payments",sub:"UPI / Cards / Wallets",icon:"??"},{title:"Cash on delivery",sub:"Pay after delivery",icon:"??"},{title:"Genuine quality",sub:"Trusted artisan partners"},{title:"3,000+ styles",sub:"Fresh drops weekly"},{title:"Express dispatch",sub:"Ships in 24 hrs"},{title:"Dedicated stylists",sub:"WhatsApp support",icon:"??"}],F={title:"",description:"",ctaLabel:"",ctaLink:"/products",meta:{stats:[]}},H=t=>`Rs. ${new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(t||0)}`,_=(t,c)=>O(t,c),Q=t=>U(t,K),J=({slides:t=[]})=>{const c=(t==null?void 0:t.map(a=>{var v,N,w;const b=(a==null?void 0:a.heroImage)||(a==null?void 0:a.image)||(a==null?void 0:a.mobileImage)||(a==null?void 0:a.desktopImage)||(a==null?void 0:a.cover)||(a==null?void 0:a.banner)||((v=a==null?void 0:a.meta)==null?void 0:v.image)||((N=a==null?void 0:a.meta)==null?void 0:N.cover)||(Array.isArray(a==null?void 0:a.images)?a.images[0]:null),f=typeof b=="string"?b.trim():b,h=(a==null?void 0:a.heroVideo)||(a==null?void 0:a.video)||((w=a==null?void 0:a.meta)==null?void 0:w.video),y=typeof h=="string"?h.trim():h;if(!f&&!y)return null;const x=f?_(f,f):"",o=y?_(y,y):"";return{...a,heroImage:x,heroVideo:o}}).filter(Boolean))||[];if(!c.length)return null;const[u,m]=l.useState(0);l.useEffect(()=>{m(0)},[c.length]);const i=l.useRef([]);l.useEffect(()=>{var y;if(!c.length)return;const b=!!(c[u]||{}).heroVideo,f=()=>m(x=>(x+1)%c.length);let h;if(b){const x=i.current[u];if(x){x.currentTime=0;const o=()=>f();x.addEventListener("ended",o);const v=(y=x.play)==null?void 0:y.call(x);v!=null&&v.catch&&v.catch(()=>{});const N=Number.isFinite(x.duration)&&x.duration>0?x.duration*1e3:0;return N>0&&(h=setTimeout(f,N+200)),()=>{var w;(w=x.pause)==null||w.call(x),x.removeEventListener("ended",o),h&&clearTimeout(h)}}}return h=setTimeout(f,3e3),()=>{h&&clearTimeout(h)}},[c,u]);const s=c[u];s==null||s.heroImage,s==null||s.heroVideo;const n=(s==null?void 0:s.title)||(s==null?void 0:s.description)||(s==null?void 0:s.subtitle),j=s!=null&&s.title?(s==null?void 0:s.description)||(s==null?void 0:s.subtitle):s!=null&&s.description&&(s!=null&&s.subtitle)?s.subtitle:"",d=!!(n||s!=null&&s.ctaLabel||s!=null&&s.secondaryCtaLabel)||!!(s!=null&&s.badge||s!=null&&s.tag);return e.jsx("section",{className:"bg-[var(--surface-muted)] py-8 sm:py-10",children:e.jsx("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 lg:px-0",children:e.jsxs("div",{className:"relative rounded-[28px] sm:rounded-[40px] overflow-hidden aspect-[4/5] min-h-[280px] sm:min-h-[420px] shadow-2xl",children:[c.map((a,b)=>{const f=a.heroImage,h=a.heroVideo,y=b===u,x=!!h;return e.jsxs("div",{className:`absolute inset-0 transition-all duration-700 ease-out ${y?"opacity-100 scale-100":"opacity-0 scale-105"}`,children:[x?e.jsx("video",{src:h,poster:f||void 0,className:"w-full h-full object-cover object-top bg-[var(--surface)]",muted:!0,playsInline:!0,preload:"metadata",autoPlay:y,ref:o=>{i.current[b]=o||null}}):e.jsx("img",{src:f,alt:a.title||"Hero slide",className:"w-full h-full object-cover object-center bg-[var(--surface)]",loading:y?"eager":"lazy",decoding:"async",fetchpriority:y?"high":"auto"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/50 via-black/25 to-transparent"})]},a._id||a.title||b)}),d&&e.jsxs("div",{className:"relative z-10 p-8 lg:p-14 max-w-2xl text-white space-y-5",children:[((s==null?void 0:s.badge)||(s==null?void 0:s.tag))&&e.jsx("span",{className:"text-xs uppercase tracking-[0.5em] text-[var(--accent)] opacity-80",children:s.badge||s.tag}),n&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-semibold leading-tight drop-shadow",children:n}),j&&e.jsx("p",{className:"text-base text-gray-100/90",children:j})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[(s==null?void 0:s.ctaLabel)&&e.jsx(S,{to:s.ctaLink||"/products",className:"bg-white/95 text-gray-900 px-6 py-3 rounded-full text-sm font-semibold shadow-lg",children:s.ctaLabel}),(s==null?void 0:s.secondaryCtaLabel)&&e.jsxs(S,{to:s.secondaryCtaLink||"/products",className:"text-white text-sm font-semibold flex items-center gap-1",children:[s.secondaryCtaLabel," >"]})]})]})]})})})},X=(t,c="")=>{const u=(t||"").toLowerCase(),m=(c||"").toLowerCase(),i=j=>j.some(d=>u.includes(d)||m.includes(d)),s={shipping:e.jsxs("svg",{viewBox:"0 0 24 24",className:"usp-icon-svg",children:[e.jsx("path",{d:"M3 7h11v10H3V7Zm11 4h3l2 2v4h-5v-6Zm-8 6.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm10 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M14 9h4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),returns:e.jsxs("svg",{viewBox:"0 0 24 24",className:"usp-icon-svg",children:[e.jsx("path",{d:"M5.5 10.5 3 8l2.5-2.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M3.5 8H13a4 4 0 0 1 0 8H9.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M14 13.5 11.5 16 14 18.5",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),styles:e.jsx("svg",{viewBox:"0 0 24 24",className:"usp-icon-svg",children:e.jsx("path",{d:"m12 3 2.2 4.7L19 8.5l-3.5 3.4.8 4.9L12 14.8 7.7 16.8l.8-4.9L5 8.5l4.8-.8L12 3Z",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})}),quality:e.jsxs("svg",{viewBox:"0 0 24 24",className:"usp-icon-svg",children:[e.jsx("path",{d:"M12 2.8 15.2 5l3.8.6-.6 3.8L20 13l-2.6 2.6.6 3.8-3.8.6L12 21l-2.6 1.1-3.8-.6.6-3.8L4 13l1.6-3.6-.6-3.8 3.8-.6L12 2.8Z",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.8 12.2 11 14.4l3.2-4.8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},n=i(["ship","delivery"])?"shipping":i(["return"])?"returns":i(["style","look","edit","collection"])?"styles":i(["quality","genuine","authentic"])?"quality":null;return t&&(t.startsWith("http")||t.startsWith("/"))?e.jsx("img",{src:t,alt:"",className:"usp-icon-img"}):n&&s[n]?s[n]:t?e.jsx("span",{className:"text-xl leading-none",role:"img","aria-hidden":"true",children:t}):s.quality},Y=({items:t=q})=>{if(!t.length)return null;const c=[...t,...t,...t];return e.jsx("section",{className:"usp-rail relative overflow-hidden py-4",children:e.jsx("div",{className:"usp-rail__track marquee-track flex gap-8 items-center py-2",children:c.map((u,m)=>{var s;const i=u.icon||((s=u.meta)==null?void 0:s.icon);return e.jsxs("div",{className:"usp-rail__item",children:[e.jsx("div",{className:"usp-rail__icon",children:X(i,u.title||u.sub||u.subtitle)}),e.jsx("p",{className:"usp-rail__title",children:u.title})]},`${u._id||u.title}-${m}`)})})})},ee=({cards:t=[]})=>{const c=W(),u=n=>{var f,h;const j=new URLSearchParams;n!=null&&n._id&&j.set("moodId",n._id);const d=((f=n==null?void 0:n.meta)==null?void 0:f.products)||(n==null?void 0:n.productIds)||[];d.length&&j.set("ids",d.join(","));const a=((h=n==null?void 0:n.meta)==null?void 0:h.collectionSlug)||(n==null?void 0:n.slug);a&&j.set("collectionSlug",a);const b=j.toString();return b?`/products?${b}`:(n==null?void 0:n.ctaLink)||"/products"},m=l.useMemo(()=>Array.isArray(t)?[...t]:[],[t]),[i,s]=l.useState(()=>m.slice(0,4));return l.useEffect(()=>{if(m.length<=4){s(m);return}let n=0;s(m.slice(0,4));const j=setInterval(()=>{n=(n+1)%m.length;const d=[];for(let a=0;a<4;a+=1)d.push(m[(n+a)%m.length]);s(d)},4e3);return()=>clearInterval(j)},[m]),m.length?e.jsx("section",{className:"py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Shop by mood"}),e.jsx("h2",{className:"text-3xl font-semibold text-gray-900",children:"Featured edits"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:i.map(n=>{const j=_(n.image,"https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=900&q=80"),d=u(n);return e.jsxs("div",{className:`bg-white rounded-3xl overflow-hidden border border-[var(--border)] shadow transition-transform ${d?"hover:-translate-y-1 cursor-pointer":""}`,onClick:()=>{d&&c(d)},children:[e.jsxs("div",{className:"relative h-48 bg-[#fdf9f5] flex items-center justify-center",children:[e.jsx("img",{src:j,alt:n.title,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}),n.tag&&e.jsx("span",{className:"absolute top-4 left-4 bg-white/90 text-xs uppercase tracking-wide px-3 py-1 rounded-full text-gray-900",children:n.tag})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n.title}),e.jsx("p",{className:"text-sm text-gray-500",children:n.subtitle||n.description}),!d&&e.jsx("p",{className:"text-xs text-gray-400",children:"Add products to enable this link."})]})]},n._id||n.title)})})]})}):null},te=({collection:t,products:c,loading:u,error:m,addToCart:i})=>{const s=W(),n=((t==null?void 0:t.title)||"Featured Sarees").toUpperCase(),j=(t==null?void 0:t.description)||(t==null?void 0:t.subtitle),d=t!=null&&t.slug?`/products?collectionSlug=${t.slug}`:(t==null?void 0:t.ctaLink)||"/products",a=l.useMemo(()=>{const o=[];return Array.isArray(t==null?void 0:t.heroImages)&&o.push(...t.heroImages.filter(Boolean)),t!=null&&t.heroImage&&o.push(t.heroImage),o},[t==null?void 0:t.heroImages,t==null?void 0:t.heroImage]),[b,f]=l.useState(0);l.useEffect(()=>{f(0)},[a.length]),l.useEffect(()=>{if(a.length<=1)return;const o=setInterval(()=>{f(v=>(v+1)%a.length)},4e3);return()=>clearInterval(o)},[a.length]);const h=_(a[b],"https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=1400&q=80"),y=l.useMemo(()=>(c||[]).slice(0,4),[c]),x=t!=null&&t.title?`View all ${t.title}`:"View all";return e.jsx("section",{className:"py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[var(--accent)]",children:(t==null?void 0:t.tag)||"Trending now"}),e.jsx("h2",{className:"text-3xl font-semibold text-gray-900",children:n})]}),h&&e.jsxs("div",{className:`relative rounded-[28px] sm:rounded-[40px] overflow-hidden aspect-[16/9] min-h-[220px] sm:min-h-[320px] shadow-xl ${d?"cursor-pointer":""}`,onClick:()=>d&&s(d),role:d?"button":void 0,tabIndex:d?0:void 0,onKeyDown:o=>{d&&(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),s(d))},children:[e.jsx("img",{src:h,alt:t==null?void 0:t.title,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}),e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-r from-black/45 via-black/20 to-transparent text-white p-8 flex flex-col justify-center max-w-lg space-y-4",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-[var(--accent)] opacity-90",children:(t==null?void 0:t.tag)||"Editor pick"}),e.jsx("h3",{className:"text-3xl font-semibold",children:t==null?void 0:t.title}),j&&e.jsx("p",{className:"text-sm text-white/80",children:j})]})]}),u?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((o,v)=>e.jsx("div",{className:"h-72 bg-white rounded-3xl animate-pulse"},v))}):m?e.jsx("p",{className:"text-red-500 text-sm text-center",children:m}):c.length===0?e.jsx("div",{className:"bg-white border border-dashed border-gray-200 rounded-3xl p-10 text-center text-sm text-gray-400",children:"No products linked to this collection yet. Add items from the admin panel to display them here."}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:y.map(o=>{var I,C;const v=o.discountPrice||o.price,N=o.discountPrice&&o.price?Math.round((o.price-o.discountPrice)/o.price*100):null,w=async k=>{k.stopPropagation(),await i(o._id),s("/checkout")};return e.jsxs("div",{className:"bg-white rounded-[28px] border border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition overflow-hidden",onClick:()=>s(`/product/${o._id}`),children:[e.jsxs("div",{className:"relative rounded-t-[28px] overflow-hidden bg-gradient-to-b from-[#fdf9f5] to-white flex items-center justify-center",style:{aspectRatio:"3 / 4",minHeight:260},children:[e.jsx("img",{src:Q(o),alt:o.name,className:"w-full h-full object-contain",loading:"lazy",decoding:"async"}),N?e.jsxs("span",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs font-semibold px-2.5 py-1 rounded-full shadow-md",children:["-",N,"%"]}):null,((C=(I=o.collections)==null?void 0:I[0])==null?void 0:C.title)&&e.jsx("span",{className:"absolute top-3 right-3 bg-white/90 text-[11px] px-3 py-1 rounded-full text-gray-800 shadow",children:o.collections[0].title})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:o.category||(t==null?void 0:t.title)}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 line-clamp-2 leading-snug",children:o.name}),e.jsxs("div",{className:"flex items-baseline gap-2 text-sm",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:H(v)}),o.discountPrice&&e.jsx("span",{className:"text-gray-400 line-through text-xs",children:H(o.price)})]}),e.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),i(o._id)},className:"inline-flex items-center justify-center w-full mt-2 bg-gray-900 text-white text-sm font-semibold rounded-full px-4 py-2 shadow-sm hover:shadow-md",children:"Add to cart"}),e.jsx("button",{type:"button",onClick:w,className:"inline-flex items-center justify-center w-full mt-2 bg-gradient-to-r from-[var(--primary,#111)] to-[var(--accent,#c58f2b)] text-white text-sm font-semibold rounded-full px-4 py-2 shadow-sm hover:shadow-md",children:"Buy now"})]})]},o._id)})})}),d&&e.jsx("div",{className:"text-center pt-2",children:e.jsx("button",{className:"inline-flex items-center justify-center px-5 py-2 rounded-full bg-[var(--primary)] text-white text-sm font-semibold shadow hover:-translate-y-0.5 transition",onClick:()=>s(d),children:x})})]})})},se=({story:t=F})=>{var m;if(!t)return null;const c=((m=t==null?void 0:t.meta)==null?void 0:m.stats)||(t==null?void 0:t.stats)||[];return!(t!=null&&t.title||t!=null&&t.description||t!=null&&t.ctaLabel||c.length)?null:e.jsxs("section",{className:"story-hero relative overflow-hidden py-16 px-4",children:[e.jsx("div",{className:"story-hero__glow story-hero__glow--one","aria-hidden":"true"}),e.jsx("div",{className:"story-hero__glow story-hero__glow--two","aria-hidden":"true"}),e.jsxs("div",{className:"max-w-6xl mx-auto relative z-10 text-center space-y-6",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/70 backdrop-blur border border-white/60 shadow-sm",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--accent)] animate-pulse"}),e.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-[var(--muted)]",children:"Brand story"})]}),(t==null?void 0:t.title)&&e.jsx("h3",{className:"text-3xl md:text-4xl font-semibold text-[var(--ink)] drop-shadow-sm",children:t.title}),(t==null?void 0:t.description)&&e.jsx("p",{className:"text-lg md:text-xl text-[var(--muted)] max-w-4xl mx-auto leading-relaxed",children:t.description}),(t==null?void 0:t.ctaLabel)&&e.jsxs(S,{to:t.ctaLink||"/products",className:"inline-flex items-center justify-center px-7 py-3 rounded-full text-white text-sm font-semibold shadow-lg story-hero__cta",children:[t.ctaLabel,e.jsx("span",{className:"ml-2 text-lg",children:"→"})]}),c.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-8",children:c.map((i,s)=>e.jsxs("div",{className:"story-hero__stat",style:{animationDelay:`${s*120}ms`},children:[e.jsx("p",{className:"text-3xl font-semibold text-[var(--ink)]",children:i.value}),e.jsx("p",{className:"text-xs uppercase tracking-[0.28em] text-[var(--muted)]",children:i.label})]},i.label))})]})]})},re=({testimonials:t=[],title:c="Customer reviews"})=>{if(!t||t.length===0)return null;const[u,m]=l.useState(0);l.useEffect(()=>{m(0)},[t.length]),l.useEffect(()=>{const s=setInterval(()=>{m(n=>(n+1)%t.length)},4e3);return()=>clearInterval(s)},[t.length]);const i=t[u];return e.jsx("section",{className:"bg-white py-16 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[var(--accent)]",children:c}),e.jsxs("div",{className:"flex items-center justify-center gap-3 text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"flex items-center gap-1 text-yellow-500",children:"★★★★★".slice(0,Math.round(i.rating||5))}),i.rating&&e.jsxs("span",{children:[i.rating," ★"]}),i.verified&&e.jsx("span",{className:"flex items-center gap-1 text-emerald-600 text-xs border border-emerald-200 px-2 py-1 rounded-full",children:"✔ Verified"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-[32px] p-8 shadow-xl",children:[e.jsx("div",{className:"text-emerald-600 text-4xl mb-4",children:"”"}),e.jsx("blockquote",{className:"text-xl text-gray-900 leading-relaxed",children:i.quote||i.text}),e.jsxs("div",{className:"mt-6 space-y-1",children:[e.jsxs("p",{className:"font-semibold text-gray-900 flex items-center justify-center gap-2",children:[i.author||i.customer,i.verified&&e.jsx("span",{className:"text-xs text-gray-500 border border-gray-200 px-2 py-1 rounded-full",children:"Verified"})]}),i.role&&e.jsx("p",{className:"text-sm text-gray-500",children:i.role}),i.product&&e.jsx(S,{to:i.productLink||"/products",className:"text-sm text-[var(--primary)] underline",children:i.product})]})]})]})})};function oe(){const{addToCart:t}=l.useContext(Z),[c,u]=l.useState([]),[m,i]=l.useState([]),[s,n]=l.useState([]),[j,d]=l.useState(!0),[a,b]=l.useState(!0),[f,h]=l.useState(!0),[y,x]=l.useState("");l.useEffect(()=>{G({title:"Mrigmaya | Handcrafted drapes and edits",description:"Discover couture calm sarees, heirloom Banarasis, and hand-finished silhouettes crafted in Surat and delivered pan-India."})},[]);const[o,v]=l.useState(""),[N,w]=l.useState("");l.useEffect(()=>{let r=!0;return d(!0),A.get("/products?includeInactive=true").then(g=>{var p;r&&(u(Array.isArray(g.data)?g.data:((p=g.data)==null?void 0:p.products)||[]),x(""))}).catch(()=>{r&&x("Could not load the latest drops. Please refresh in a moment.")}).finally(()=>{r&&d(!1)}),()=>{r=!1}},[]),l.useEffect(()=>{let r=!0;return b(!0),A.get("/collections?includeProducts=true").then(g=>{r&&(i(g.data||[]),v(""))}).catch(()=>{r&&v("Collections not available right now.")}).finally(()=>r&&b(!1)),()=>{r=!1}},[]),l.useEffect(()=>{let r=!0;return h(!0),A.get("/home-sections").then(g=>{r&&(n(g.data||[]),w(""))}).catch(()=>{r&&w("Homepage banners failed to load. Showing defaults.")}).finally(()=>r&&h(!1)),()=>{r=!1}},[]),l.useMemo(()=>c.slice(0,6),[c]),l.useMemo(()=>[...c].sort((r,g)=>(g.price||0)-(r.price||0)).slice(0,6),[c]);const I=["sarees","suits","best-seller","gold"],C=l.useMemo(()=>{const r=I.map(p=>m.find(L=>L.slug===p)).filter(p=>p&&p.displayOnHome!==!1),g=m.filter(p=>p.displayOnHome!==!1&&!I.includes(p.slug)).sort((p,L)=>(p.priority||999)-(L.priority||999));return[...r,...g]},[m]),k=l.useMemo(()=>{const r={};return s.forEach(g=>{const p=g.group||"custom";r[p]||(r[p]=[]),r[p].push(g)}),Object.keys(r).forEach(g=>{r[g].sort((p,L)=>(p.order??0)-(L.order??0))}),r},[s]),T=k.hero||[],E=k.usp||[],$=k.category||[],R=k.story||[],z=k.testimonial||[],B=f?[]:T.filter(r=>{var M,P,V;const g=(r==null?void 0:r.heroImage)||(r==null?void 0:r.image)||(r==null?void 0:r.mobileImage)||(r==null?void 0:r.desktopImage)||(r==null?void 0:r.cover)||(r==null?void 0:r.banner)||((M=r==null?void 0:r.meta)==null?void 0:M.image)||((P=r==null?void 0:r.meta)==null?void 0:P.cover)||(Array.isArray(r==null?void 0:r.images)?r.images[0]:null),p=(r==null?void 0:r.heroVideo)||(r==null?void 0:r.video)||((V=r==null?void 0:r.meta)==null?void 0:V.video),L=typeof g=="string"?g.trim():!!g,D=typeof p=="string"?p.trim():!!p;return(r==null?void 0:r.active)!==!1&&(L||D)});return e.jsxs("div",{className:"bg-[var(--bg)] text-[var(--ink)] home-shell",children:[B.length>0&&e.jsx(J,{slides:B}),e.jsx(Y,{items:E.length?E:q}),N&&e.jsx("div",{className:"max-w-6xl mx-auto px-4 text-sm text-amber-600",children:N}),e.jsx(ee,{cards:$,products:c}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 flex justify-end mt-2",children:e.jsx(S,{to:"/products",className:"text-sm text-[var(--primary)] font-semibold",children:"View all products"})}),C.length>0&&C.map(r=>e.jsx(te,{collection:r,products:r.products||[],loading:j||a,error:y||o,addToCart:t},r._id)),e.jsx(se,{story:R[0]||F}),e.jsx(re,{testimonials:z,title:"Customer reviews"})]})}export{oe as default};
