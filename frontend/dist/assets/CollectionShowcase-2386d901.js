import{c as y,u as j,r as i,i as N,j as e,L as r,b as v}from"./index-341cd16a.js";import{B as w}from"./BrandLoader-f1aaa9a5.js";import{s as A}from"./seo-4fb2e452.js";const g=t=>`Rs. ${new Intl.NumberFormat("en-IN",{maximumFractionDigits:0}).format(t||0)}`,k="data:image/gif;base64,R0lGODlhAQABAAD/ACw=",u=(t,c)=>v(t,c),f=k;function M(){var x,m;const{slug:t}=y(),c=j(),[a,p]=i.useState(null),[b,n]=i.useState(!0),[o,d]=i.useState("");return i.useState(0),i.useEffect(()=>{A({title:`Mrigmaya | Collection ${t}`,description:"Curated saree edits from Mrigmaya with handcrafted silhouettes and concierge support."})},[t]),i.useEffect(()=>{let s=!0;return n(!0),N.get(`/collections/slug/${t}`).then(l=>{var h;s&&(c(`/products?collectionSlug=${((h=l.data)==null?void 0:h.slug)||t}`,{replace:!0}),p(l.data),d(""))}).catch(()=>s&&d("This edit is not available right now.")).finally(()=>s&&n(!1)),()=>{s=!1}},[t]),b?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center bg-[#fefbfe] px-4",children:e.jsx(w,{message:"Curating the Mrigmaya edit..."})}):!a||o?e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-16 text-center text-gray-500 space-y-4",children:[e.jsx("p",{children:o||"Collection not found"}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(r,{to:"/",className:"px-4 py-2 rounded-full bg-gray-900 text-white text-sm font-semibold",children:"Back to home"}),e.jsx(r,{to:"/products",className:"px-4 py-2 rounded-full bg-pink-600 text-white text-sm font-semibold",children:"View all products"})]})]}):(u("",f),a.description||a.subtitle,e.jsx("div",{className:"bg-[#fefbfe] min-h-screen",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 lg:px-0 py-10 space-y-8",children:e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:[((x=a.products)==null?void 0:x.length)||0," styles ready to ship"]}),e.jsx(r,{to:"/products",className:"text-sm text-pink-600 font-semibold",children:"Browse all products"})]}),(m=a.products)!=null&&m.length?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.products.map(s=>{var l;return e.jsxs(r,{to:`/product/${s._id}`,className:"bg-white rounded-[28px] border border-gray-100 shadow-sm hover:-translate-y-1 transition flex flex-col",children:[e.jsxs("div",{className:"relative h-64 rounded-t-[28px] overflow-hidden",children:[e.jsx("img",{src:u((l=s.images)==null?void 0:l[0],f),alt:s.name,className:"w-full h-full object-cover"}),s.discountPrice&&s.price&&e.jsxs("span",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded-full",children:["-",Math.round((s.price-s.discountPrice)/s.price*100),"%"]})]}),e.jsxs("div",{className:"p-4 space-y-2 flex-1 flex flex-col",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:s.category||a.title}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 line-clamp-2",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm mt-auto",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:g(s.discountPrice||s.price)}),s.discountPrice&&e.jsx("span",{className:"text-gray-400 line-through",children:g(s.price)})]})]})]},s._id)})}):e.jsx("div",{className:"bg-white border border-dashed border-gray-200 rounded-3xl p-10 text-center text-gray-400",children:"No styles are linked to this edit yet."})]})})}))}export{M as default};
